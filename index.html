<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Vocabulary Flashcard</title>

    <!-- PRELOAD INSTRUCTIONS START HERE -->
    <link rel="preload" as="image" href="images/background.png">
    <link rel="preload" as="image" href="images/0.png">
    <link rel="preload" as="image" href="images/1.png">
    <link rel="preload" as="image" href="images/2.png">
    <link rel="preload" as="image" href="images/3.png">
    <link rel="preload" as="image" href="images/4.png">
    <link rel="preload" as="image" href="images/5.png">
    <link rel="preload" as="image" href="images/6.png">
    <link rel="preload" as="image" href="images/7.png">
    <link rel="preload" as="image" href="images/8.png">
    <!-- PRELOAD INSTRUCTIONS END HERE -->

    <style>
        /* ---------- ORIGINAL STYLES (unchanged) ---------- */
        h1 {font-family:'Comic Sans MS',sans-serif;font-size:2.5em;text-align:center;margin-top:50px;text-shadow:1px 1px 3px rgba(0,0,0,0.3);}
        h1:hover{transform:scale(1.1);transition:transform .3s ease;}
        body{font-family:Arial,sans-serif;display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;margin:0;background:#f4f4f9 url('images/background.png') center/cover no-repeat;}
        #image-container{margin-bottom:20px;border:5px solid #ccc;border-radius:8px;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,.2);}
        #myImage{width:400px;height:400px;object-fit:cover;display:block;opacity:1;transition:opacity .3s ease-in-out;}
        .image-loading{opacity:0;}
        #button-group{display:flex;gap:15px;}
        .action-button{padding:12px 25px;font-size:18px;cursor:pointer;border:none;border-radius:5px;transition:background-color .3s ease;}
        #randomImageButton{background:#007bff;color:#fff;}
        #randomImageButton:hover{background:#0056b3;}
        #specialImageButton{background:#28a745;color:#fff;}
        #specialImageButton:hover{background:#1e7e34;}
        .loading{background:#ffc107 !important;cursor:wait !important;pointer-events:none;}
        #text-overlay{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;font-family:'Comic Sans MS',sans-serif;font-size:3em;font-weight:bold;color:#fff;background:rgba(0,0,0,.8);padding:20px 40px;border-radius:10px;opacity:0;transition:opacity .3s ease-in-out;pointer-events:none;text-shadow:2px 2px 4px rgba(0,0,0,.5);}
        .show-text{opacity:1 !important;}

        /* ---------- NEW: ROW FOR IMAGE + DICE ---------- */
        #main-row{
            display:flex;
            align-items:center;
            gap:30px;               /* space between picture and dice */
            margin-bottom:20px;
        }

        /* ---------- DICE STYLES ---------- */
        .dice-wrapper{
            perspective:800px;      /* 3-D space */
            cursor:pointer;
        }
        .dice{
            width:120px;height:120px;
            position:relative;
            transform-style:preserve-3d;
            transition:transform 0.8s cubic-bezier(.2,.85,.4,1.2);
        }
        .dice-face{
            position:absolute;
            width:120px;height:120px;
            background:#fff;
            border:4px solid #333;
            border-radius:12px;
            display:flex;
            align-items:center;
            justify-content:center;
            font-size:60px;
            font-weight:bold;
            color:#222;
            box-shadow:inset 0 0 15px rgba(0,0,0,.2);
            backface-visibility:hidden;
        }
        .dice-face::before{
            content:'';
            position:absolute;
            width:20px;height:20px;
            background:#333;
            border-radius:50%;
        }
        /* dot positions */
        .face-1::before{transform:translate(0,0);}
        .face-2::before{transform:translate(-30px,-30px);}
        .face-2::after{content:'';position:absolute;width:20px;height:20px;background:#333;border-radius:50%;transform:translate(30px,30px);}
        .face-3::before{transform:translate(-30px,-30px);}
        .face-3::after{content:'';position:absolute;width:20px;height:20px;background:#333;border-radius:50%;transform:translate(30px,30px);}
        .face-3 .mid::before{content:'';position:absolute;width:20px;height:20px;background:#333;border-radius:50%;transform:translate(0,0);}
        .face-4::before{transform:translate(-30px,-30px);}
        .face-4::after{content:'';position:absolute;width:20px;height:20px;background:#333;border-radius:50%;transform:translate(30px,-30px);}
        .face-4 .bot::before{content:'';position:absolute;width:20px;height:20px;background:#333;border-radius:50%;transform:translate(-30px,30px);}
        .face-4 .bot::after{content:'';position:absolute;width:20px;height:20px;background:#333;border-radius:50%;transform:translate(30px,30px);}
        .face-5::before{transform:translate(-30px,-30px);}
        .face-5::after{content:'';position:absolute;width:20px;height:20px;background:#333372;border-radius:50%;transform:translate(30px,-30px);}
        .face-5 .mid::before{content:'';position:absolute;width:20px;height:20px;background:#333;border-radius:50%;transform:translate(0,0);}
        .face-5 .bot::before{content:'';position:absolute;width:20px;height:20px;background:#333;border-radius:50%;transform:translate(-30px,30px);}
        .face-5 .bot::after{content:'';position:absolute;width:20px;height:20px;background:#333;border-radius:50%;transform:translate(30px,30px);}
        .face-6 .row::before,.face-6 .row::after{content:'';position:absolute;width:20px;height:20px;background:#333;border-radius:50%;}
        .face-6 .row:nth-of-type(1){top:20px;}
        .face-6 .row:nth-of-type(2){top:50%;transform:translateY(-50%);}
        .face-6 .row:nth-of-type(3){bottom:20px;}
        .face-6 .row:nth-of-type(1)::before{left:20px;}
        .face-6 .row:nth-of-type(1)::after{right:20px;}
        .face-6 .row:nth-of-type(2)::before{left:20px;}
        .face-6 .row:nth-of-type(2)::after{right:20px;}
        .face-6 .row:nth-of-type(3)::before{left:20px;}
        .face-6 .row:nth-of-type(3)::after{right:20px;}

        /* rotate each face into position */
        .front  {transform:translateZ(60px);}
        .back   {transform:rotateX(180deg) translateZ(60px);}
        .right  {transform:rotateY(90deg) translateZ(60px);}
        .left   {transform:rotateY(-90deg) translateZ(60px);}
        .top    {transform:rotateX(90deg) translateZ(60px);}
        .bottom {transform:rotateX(-90deg) translateZ(60px);}

        /* helper for row in face-6 */
        .row{position:absolute;width:100%;height:0;}
        .mid,.bot{position:relative;display:inline-block;}
    </style>
</head>
<body>
    <h1>Word Picture Challenge</h1>

    <!-- NEW ROW: picture + dice -->
    <div id="main-row">
        <!-- 1. The Image Element -->
        <div id="image-container">
            <img id="myImage" src="images/0.png" alt="Currently displayed image" decoding="async">
        </div>

        <!-- 2. The Dice -->
        <div class="dice-wrapper" id="diceWrapper">
            <div class="dice" id="dice">
                <div class="dice-face front face-1">1</div>
                <div class="dice-face back  face-2">2</div>
                <div class="dice-face right face-3">3</div>
                <div class="dice-face left  face-4">4</div>
                <div class="dice-face top   face-5">5</div>
                <div class="dice-face bottom face-6">6</div>
            </div>
        </div>
    </div>

    <!-- 3. The Button Group -->
    <div id="button-group">
        <button id="randomImageButton" class="action-button">Show Random Image</button>
        <button id="specialImageButton" class="action-button">Back To Ready</button>
    </div>

    <!-- 4. Text Overlay -->
    <div id="text-overlay">NEW IMAGE</div>

    <!-- ---------- ORIGINAL JS (unchanged) ---------- -->
    <script>
        // ----- FLASHCARD LOGIC (unchanged) -----
        const imageElement = document.getElementById('myImage');
        const randomButton = document.getElementById('randomImageButton');
        const specialButton = document.getElementById('specialImageButton');
        const textOverlay = document.getElementById('text-overlay');
        const TOTAL_IMAGES = 8;
        let currentImageIndex = 0;
        const SPECIAL_IMAGE_PATH = 'images/0.png';

        function setButtonLoading(button, originalText, isLoading) {
            if (isLoading) {
                button.classList.add('loading');
                button.textContent = 'Loading...';
            } else {
                button.classList.remove('loading');
                button.textContent = originalText;
            }
        }

        imageElement.addEventListener('load', function () {
            imageElement.classList.remove('image-loading');
            if (randomButton.classList.contains('loading')) {
                setButtonLoading(randomButton, "Show Random Image", false);
            } else if (specialButton.classList.contains('loading')) {
                setButtonLoading(specialButton, "Back To Ready", false);
            }
        });

        function changeImage(newPath, button) {
            if (button.classList.contains('loading')) return;
            const originalText = button.id === 'randomImageButton' ? "Show Random Image" : "Back To Ready";
            setButtonLoading(button, originalText, true);
            imageElement.classList.add('image-loading');
            imageElement.src = newPath;
        }

        randomButton.addEventListener('click', function () {
            if (randomButton.classList.contains('loading')) return;
            randomButton.classList.add('loading');
            textOverlay.classList.add('show-text');
            setTimeout(() => {
                textOverlay.classList.remove('show-text');
                randomButton.classList.remove('loading');
                let newIndex;
                do { newIndex = Math.floor(Math.random() * TOTAL_IMAGES) + 1; }
                while (newIndex === currentImageIndex);
                currentImageIndex = newIndex;
                const newImagePath = `images/${currentImageIndex}.png`;
                specialButton.textContent = "Back To Ready";
                changeImage(newImagePath, randomButton);
            }, 1000);
        });

        specialButton.addEventListener('click', function () {
            if (currentImageIndex === 0) return;
            currentImageIndex = 0;
            randomButton.textContent = "Show Random Image";
            changeImage(SPECIAL_IMAGE_PATH, specialButton);
        });

        // initial button texts
        randomButton.textContent = "Show Random Image";
        specialButton.textContent = "Back To Ready";
    </script>

    <!-- ---------- NEW DICE JS ---------- -->
    <script>
        const diceWrapper = document.getElementById('diceWrapper');
        const dice = document.getElementById('dice');

        // map face numbers â†’ rotation (random but looks like a real roll)
        const rotations = [
            {x: 0,   y: 0},     // 1
            {x: 180, y: 0},     // 2
            {x: 0,   y: -90},   // 3
            {x: 0,   y: 90},    // 4
            {x: -90, y: 0},     // 5
            {x: 90,  y: 0}      // 6
        ];

        diceWrapper.addEventListener('click', () => {
            const face = Math.floor(Math.random() * 6); // 0-5
            const rot = rotations[face];
            // add a little extra spin for visual flair
            const extra = Math.floor(Math.random() * 4) * 360;
            dice.style.transform = `rotateX(${rot.x + extra}deg) rotateY(${rot.y + extra}deg)`;
        });
    </script>
</body>
</html>
